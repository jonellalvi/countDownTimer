<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        #my_box {
            padding: 20px 0 20px 40px;
            background: lightgray;
        }
    </style>
</head>
<body>
<div id="my_box">

    <p>
        <label for="startMins">Enter minutes : seconds</label>
    </p>
    <p>
        <input  id="startMins" size="4" maxlength="2">
        <span id="colon">:</span>
        <input  id="startSecs" size="4" maxlength="2">
    </p>

    <p>
       <button id="btn" onclick="timerID();">Start</button>
    </p>

    <span id="cd_value"></span>
    <div id="audio"></div>

</div>
<script>
        ////////////////////////////////////////////////////////////////////
        //Create a web page that allows the user to set a count down timer value
        // e.g. 1 minute that plays a sound and flashes the screen when it counts down to zero
        // and indicates progress as the timer counts down.
        // Bonus points for creativity.
        // This is deliberately vague and open to interpretation.
        // This is the way we get most assignments from business users.
        //////////////////////////////////////////////////////////////////////
        // Requirements:
        // 1. User sets time
        // 2. Timer counts down to zero
        // 3. Progress of timer indicated by sound and flash of screen
        // 4. Be Creative
        // 5. It's on a web page
        ////////////////////////////////////////////////////////////////////
        // CODE:
        //
        // Just get a counter going:

        // These are my global variables man!
        var startElMins;
        var startElSecs;
        var startStringMins;
        var startStringSecs;
        var startTimeMins;
        var startTimeSecs;
        var startTime;
        var t;
        var totSecs;

        //function to decrement the counter
        function myCounter() {
            //decrement the counter
            totSecs--;
            //show the counter value in the console
            console.log(totSecs);
            //show the counter value on the screen
            document.getElementById("cd_value").innerHTML = totSecs;
            var backEl = document.getElementById("my_box");

            //change the background of the box under different conditions.
            if (totSecs % 3 == 0 && totSecs % 5 == 0){
                backEl.style.backgroundColor = "yellow";
            } else if (totSecs % 5 == 0 ){
                backEl.style.backgroundColor = "blue";
            } else if (totSecs % 3 == 0) {
                backEl.style.backgroundColor = "red";
            } else if (totSecs !== 0) {
                backEl.style.backgroundColor = "white";
            }
            //stop the countdown when it gets to 0
            if (totSecs == 0) {
                clearInterval(t);
                backEl.style.backgroundColor = "green";
                document.getElementById("audio").innerHTML = "<audio autoplay='autoplay'><source src='rooster.mp3'/></audio>";
            }
        }

        //function to calc the time in seconds
        //gets the user input and converts to seconds
        function timeInSecs(){
            //get the input elements for minutes and seconds
            startElMins = document.getElementById("startMins");
            startElSecs = document.getElementById("startSecs");
            //use the elements to get the mins and secs
            startStringMins = startElMins.value;
            startStringSecs = startElSecs.value;
            console.log(startStringMins);
            //convert the strings to an integers base 10
            startTimeMins = parseInt(startStringMins, 10);
            startTimeSecs = parseInt(startStringSecs, 10);
            console.log(startTimeMins);
            //convert into total seconds
            totSecs = (startTimeMins * 60) + startTimeSecs;
            console.log(totSecs);
            return totSecs;
        }

        //function to call the counter every second
        function timerID() {
            //call timeInSecs() to get the time in seconds.
            timeInSecs();
            //call the count down function every second.
            t = setInterval(myCounter, 1000);
        }

    </script>
</body>

</html>